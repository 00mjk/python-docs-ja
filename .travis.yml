dist: xenial
language: python
python: '3.7'
branches:
  only:
  - 3.7
env:
  global:
    # branch name of python-docs-ja repository
    - DOCS_BRANCH=3.7
    # branch name of cpython repository
    - CPYTHON_BRANCH=3.7
    # branch name of cpython-doc-catalog repository
    - CATALOG_BRANCH=catalog-3.7
    # Transifex project name
    - TRANSIFEX_PROJECT=python-newest
    # Directory where repositories are cloned
    - BASEDIR="$(dirname ${TRAVIS_BUILD_DIR})"
before_install:
- bash ${TRAVIS_BUILD_DIR}/scripts/before_install_3.7
install:
- pip install sphinx
- pip install blurb
- pip install transifex-client
- pip install sphinx-intl
script:
# upload-catalog
- bash ${TRAVIS_BUILD_DIR}/scripts/upload-catalog
# renew-catalog-template
- bash ${TRAVIS_BUILD_DIR}/scripts/renew-catalog-template
